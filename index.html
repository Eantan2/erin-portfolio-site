<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Erin Antanavage - Portfolio</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <!-- Preload video for better performance -->
    <link rel="preload" href="video1.mp4" as="video" type="video/mp4">
</head>
<body>
    <header id="navbar">
        <h1>Erin Antanavage</h1>
        <nav>
            <ul>
                <li><a href="#about">About</a></li>
                <li><a href="content.html">Projects</a></li>
                <li><a href="#contact">Contact</a></li>
                <li><button id="dark-mode-toggle">ðŸŒ™</button></li>
            </ul>
        </nav>
    </header>

    <main>
        <!-- Full-Width Background Video -->
        <section class="video-section">
            <!-- Add default attribute and poster image to improve experience -->
            <video 
                id="background-video" 
                autoplay 
                loop 
                muted 
                playsinline 
                defaultMuted 
                preload="auto">
                <source src="video1.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
                        <div class="video-overlay">
                <h2>Welcome to My Portfolio</h2>
            </div>
        </section>


        <!-- Rest of content unchanged -->
        <!-- About Me Section -->
        <section id="about" class="about">
            <div class="about-container">
                <img src="portrait.jpg" alt="Erin Antanavage" class="profile-pic">
                <div class="about-text">
                    <h2>About Me</h2>
                    <p><strong>Military Police | Auditor | Information Systems | Project Analyst</strong></p>
                    <p>Currently pursuing a Master of Science in Information Systems at the University of Washington.</p>
                    <button onclick="window.location.href='content.html'">Explore Projects</button>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="contact">
            <h2>Contact Me</h2>
            <p>Email: <a href="mailto:erantanavage@gmail.com">erantanavage@gmail.com</a></p>
            <p>LinkedIn: <a href="#" target="_blank">My Profile</a></p>
        </section>
    </main>

    <footer>
        <p>Â© 2024 Erin Antanavage | <a href="https://github.com/your-username/erin-portfolio-site" target="_blank">GitHub Repo</a></p>
    </footer>

    <script>
        // Aggressive video autoplay handling - placed at the top of the script section
        (function() {
            function forceVideoPlay() {
                const video = document.getElementById("background-video");
                if (!video) return;
                
                // Try multiple different approaches
                try {
                    // Method 1: Standard play with promise
                    video.play().catch(function(e) {
                        console.warn("Initial autoplay failed:", e);
                        
                        // Method 2: Try setting the current time first
                        setTimeout(function() {
                            video.currentTime = 0;
                            video.play().catch(function(e) {
                                console.warn("Second attempt failed:", e);
                            });
                        }, 100);
                    });
                    
                    // Method 3: Check if video is actually playing after a short delay
                    setTimeout(function() {
                        if (video.paused) {
                            console.warn("Video still paused after initial attempts");
                            video.play().catch(e => console.warn("Third attempt failed:", e));
                        }
                    }, 500);
                } catch (err) {
                    console.error("Video play error:", err);
                }
            }
            
            // Call our function at various points
            // 1. As soon as script runs
            forceVideoPlay();
            
            // 2. On DOMContentLoaded
            document.addEventListener("DOMContentLoaded", forceVideoPlay);
            
            // 3. On window load
            window.addEventListener("load", forceVideoPlay);
            
            // 4. After a timeout (some browsers need a moment)
            setTimeout(forceVideoPlay, 1000);
            setTimeout(forceVideoPlay, 3000);
            
            // 5. On first user interaction (many browsers require this)
            ["click", "touchstart", "keydown"].forEach(function(evt) {
                document.addEventListener(evt, function userInteractionHandler() {
                    forceVideoPlay();
                    // Remove the event listeners after first interaction
                    ["click", "touchstart", "keydown"].forEach(function(e) {
                        document.removeEventListener(e, userInteractionHandler);
                    });
                }, { once: true });
            });
            
            // 6. On visibility change (useful when tab becomes active)
            document.addEventListener("visibilitychange", function() {
                if (!document.hidden) {
                    forceVideoPlay();
                }
            });
        })();

        // Rest of your scripts (dark mode, smooth scrolling) - unchanged
        document.addEventListener("DOMContentLoaded", () => {
            const darkModeToggle = document.getElementById("dark-mode-toggle");
            const body = document.body;

            // Check for previous dark mode setting
            if (localStorage.getItem("dark-mode") === "enabled") {
                body.classList.add("dark-mode");
            }

            darkModeToggle.addEventListener("click", () => {
                body.classList.toggle("dark-mode");
                if (body.classList.contains("dark-mode")) {
                    localStorage.setItem("dark-mode", "enabled");
                } else {
                    localStorage.setItem("dark-mode", "disabled");
                }
            });

            // Smooth scrolling for nav links
            document.querySelectorAll('nav ul li a[href^="#"]').forEach(anchor => {
                anchor.addEventListener("click", function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute("href")).scrollIntoView({
                        behavior: "smooth"
                    });
                });
            });
        });
    </script>
</body>
</html>
